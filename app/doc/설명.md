# Tier Master 프로젝트 개요 및 실행 플랜

## 1. 프로젝트 목적

- **Google 로그인** 기능이 붙은 간단한 Next.js 기반 서비스 구축
- 예: 투표 기반 랭킹 서비스 (나중에 확장 가능한 MVP 구조)

## 2. 주요 스택

| 항목       | 사용 도구                         |
| ---------- | --------------------------------- |
| 프레임워크 | Next.js (App Router + TypeScript) |
| UI 스타일  | Tailwind CSS                      |
| 인증       | NextAuth.js + Google Provider     |
| 배포       | Vercel                            |
| DB (선택)  | Supabase (추가 예정 가능)         |

---

## 3. 프로젝트 디렉토리 구조

```
vote-rank/
├── app/
│   ├── layout.tsx         # 전역 레이아웃 (SessionProvider 포함)
│   ├── providers.tsx      # SessionProvider, ThemeProvider
│   ├── page.tsx           # 홈 페이지 (서비스 소개)
│   ├── login/page.tsx     # 로그인 전용 페이지
│   ├── vote/page.tsx      # 전체 랭킹 보기 + 추천
│   ├── submit/page.tsx    # 사용자 항목 제안
│   └── ranking/[category]/page.tsx  # 카테고리별 티어 보기
│
├── app/api/auth/[...nextauth]/route.ts # NextAuth API Route
├── lib/auth-config.ts    # NextAuth 설정 파일
├── .env.local            # Google OAuth 등 환경변수
├── tailwind.config.ts    # Tailwind 설정 (darkMode 포함)
├── next.config.ts        # 외부 이미지 도메인 허용
├── tsconfig.json
├── package.json
└── README.md
```

---

## 4. 배포 시 체크사항 (Vercel)

- `.env.local`의 값들 → Vercel Dashboard의 환경 변수로 입력
- Google OAuth 설정에 리디렉션 URI 추가:  
  `https://your-project.vercel.app/api/auth/callback/google`

---

## 5. 인증 및 세션 공유

- `layout.tsx`: 모든 페이지를 감싸는 부모
- `providers.tsx`: `SessionProvider`, `ThemeProvider` 래핑 필수
- 로그인 보호: `middleware.ts`로 `/vote`, `/submit` 접근 제어

---

## 6. 페이지별 역할 및 수익화 연결

### ✅ 추천 최종 구조

| 경로                  | 설명                        | 로그인 | 수익화 포인트           |
| --------------------- | --------------------------- | ------ | ----------------------- |
| `/`                   | 홈: 소개 + 인기 랭킹 프리뷰 | ❌     | 광고 삽입, 티어 바이럴  |
| `/vote`               | 전체 항목 추천 + 랭킹 보기  | ✅     | 추천 시 광고, 클릭 유도 |
| `/submit`             | 새로운 항목 제안            | ✅     | 상위 노출 유료화 가능   |
| `/ranking/[category]` | 카테고리별 인기 티어        | ❌     | 카테고리 협찬 가능      |
| `/login`              | 로그인 전용 페이지          | ❌     | Google 로그인 유도      |

---

## 7. 사용자 유형 (페르소나)

| 유형           | 심리/목표                              |
| -------------- | -------------------------------------- |
| 😎 일반 사용자 | “다른 사람은 뭐 좋아하지?” → 흥미 유발 |
| 💬 표현 욕구형 | “나도 추천하고 싶다” → 추천 + 제안     |
| 🔄 공유형 유저 | 친구와 공유 → 유입 증폭                |
| 💰 운영자/당신 | 트래픽 확보 → 수익화 가능              |

---

## 8. 현재 구현 완료된 기능 ✅

- [x] Google 로그인 / 로그아웃
- [x] 로그인 후 리디렉션
- [x] SessionProvider 적용
- [x] Header + 프로필 드롭다운
- [x] Tailwind + 다크모드 지원
- [x] 로그인 보호 (middleware)
- [x] Hydration mismatch 해결

---

## 9. 다음 단계

### 🔥 기능 구현 우선순위

| 단계 | 기능                       | 설명                       |
| ---- | -------------------------- | -------------------------- |
| 1️⃣   | `/vote` 항목 리스트 출력   | 추천 버튼 포함된 카드 형태 |
| 2️⃣   | 추천 버튼 클릭 기능        | 추천수 증가 (state or DB)  |
| 3️⃣   | `/submit` 항목 제안 폼     | 사용자 입력 처리           |
| 4️⃣   | `/ranking/[category]` 구조 | 정적 라우팅 테스트         |
| 5️⃣   | Supabase 연동              | items, votes 테이블로 전환 |
| 6️⃣   | Stripe 연동 (선택)         | 유료 추천 기능 대비        |

---

## 10. 지금 가능한 작업 흐름 요약

1. Google 로그인 완성
2. `/vote` → 항목 리스트 + 추천 기능 구현
3. `/submit` → 항목 입력 폼
4. Supabase 연결해 실데이터로 전환
5. Vercel 배포 후 SNS 공유 + 수익화 시작

---

✅ 완료되면 Stripe 결제, 관리자 페이지, 카테고리별 트렌드 분석으로 확장 가능!
